{"version":3,"file":"static/js/288.f1dfcb51.chunk.js","mappings":"kLAkCA,UA3B0B,SAACA,GAEzB,IAAAC,GAA8CC,EAAAA,EAAAA,UAAS,kBAAmBC,EAAAA,IAAjEC,EAAIH,EAAJG,KAAMC,EAAKJ,EAALI,MAAOC,EAASL,EAATK,UAAWC,EAAON,EAAPM,QAEjC,GAAID,EACF,OAAOE,EAAAA,EAAAA,KAACC,EAAAA,EAAO,IAGjB,GAAIF,EACF,OAAOC,EAAAA,EAAAA,KAAA,MAAAE,SAAKL,EAAMM,UAEpB,IAAMC,EAASR,EAAKS,QAEdC,EAAYF,EAAOG,QAAO,SAAAC,GAAC,OAAIA,EAAEC,QAAQ,IAG/C,OAFAC,aAAaC,QAAQ,YAAaC,KAAKC,UAAUP,KAG/CN,EAAAA,EAAAA,KAACc,EAAAA,EAAY,CACXC,MAAM,iBACNX,OAAQA,EACRY,OAAQ,SAACC,GACP,OAAOjB,EAAAA,EAAAA,KAACkB,EAAAA,EAAkB,CAACD,MAAOA,GACpC,GAIN,C","sources":["pages/popularPage.js"],"sourcesContent":["import React from \"react\";\r\nimport PageTemplate from '../components/templateMovieListPage'\r\nimport { getPopular } from \"../api/tmdb-api\";\r\nimport Spinner from '../components/spinner';\r\nimport { useQuery } from 'react-query';\r\nimport AddToFavoritesIcon from '../components/cardIcons/addToFavorites'\r\n\r\nconst PopularMoviesPage = (props) => {\r\n  // const [movies, setMovies] = useState([]);\r\n  const {  data, error, isLoading, isError }  = useQuery('discoverPopular', getPopular)\r\n\r\n  if (isLoading) {\r\n    return <Spinner />\r\n  }\r\n\r\n  if (isError) {\r\n    return <h1>{error.message}</h1>\r\n  }  \r\n  const movies = data.results;\r\n\r\n  const favorites = movies.filter(m => m.favorite)\r\n  localStorage.setItem('favorites', JSON.stringify(favorites))\r\n\r\n  return (\r\n    <PageTemplate\r\n      title='Popular Movies'\r\n      movies={movies}\r\n      action={(movie) => {\r\n        return <AddToFavoritesIcon movie={movie} />\r\n      }}    \r\n    />\r\n    \r\n  );\r\n};\r\nexport default PopularMoviesPage;"],"names":["props","_useQuery","useQuery","getPopular","data","error","isLoading","isError","_jsx","Spinner","children","message","movies","results","favorites","filter","m","favorite","localStorage","setItem","JSON","stringify","PageTemplate","title","action","movie","AddToFavoritesIcon"],"sourceRoot":""}